#!/bin/bash
# hash: {{ include "dot_config/waypaper/config.ini.tmpl" | sha256sum }}

if command -v waypaper >/dev/null 2>&1; then
    echo "[Waypaper] Config changed. Restoring wallpaper in background..."
    
    # 1. nohup: Ignores the hangup signal when the shell exits
    # 2. >/dev/null 2>&1: Closes the stdout/stderr pipes so Chezmoi doesn't wait
    # 3. &: Puts it in the background
    nohup waypaper --restore >/dev/null 2>&1 & disown
fi